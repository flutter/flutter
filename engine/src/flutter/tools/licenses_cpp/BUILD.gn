source_set("licenses") {
  sources = [
    "src/license_checker.cc",
    "src/license_checker.h",
  ]
  deps = [ "//flutter/third_party/abseil-cpp/absl/status:statusor" ]
}

executable("licenses_cpp") {
  testonly = true

  sources = [ "src/main.cc" ]
  deps = [
    ":licenses",
    "//flutter/third_party/abseil-cpp/absl/flags:flag",
    "//flutter/third_party/abseil-cpp/absl/flags:parse",
    "//flutter/third_party/abseil-cpp/absl/status:statusor",
    "//flutter/third_party/re2",
  ]
}

executable("licenses_cpp_testrunner") {
  testonly = true
  sources = [
    "src/license_checker_unittests.cc",
  ]
  deps = [
    ":licenses",
    "//flutter/third_party/googletest:gtest",
    "//flutter/third_party/googletest:gtest_main",
  ]
}